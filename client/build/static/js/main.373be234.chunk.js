(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,a,t){},49:function(e,a,t){e.exports=t(82)},54:function(e,a,t){},55:function(e,a,t){},80:function(e,a,t){},82:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(41),c=t.n(l),o=(t(54),t(7)),m=t(21),s=t(5),u=(t(55),t(14)),i=t(42),E=t.n(i),p=t(18),h=(t(26),function(e){var a=Object(n.useState)(!1),t=Object(o.a)(a,2),l=t[0],c=t[1],m=Date.parse(e.timestamp),s=E()(m,"h:MMtt | dS mmm yyyy");return r.a.createElement(p.a,null,r.a.createElement("a",{href:"/profile/"+e.username},r.a.createElement("img",{alt:"Avatar",src:e.avatar})),r.a.createElement("div",{className:"card_text"},r.a.createElement("a",{href:"/profile/"+e.username},r.a.createElement("h2",null,"@",e.username)),r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.text}}),r.a.createElement("ul",null,r.a.createElement("p",{onClick:function(){c(!l)}},l?"Unlike":"Like"),r.a.createElement("p",null," More")),r.a.createElement("h6",null,s)))}),f=t(16),d=t.n(f),g=function(e){var a=Object(n.useState)([]),t=Object(o.a)(a,2),l=t[0],c=t[1];return Object(n.useEffect)((function(){d.a.get("http://localhost:5000/api/posts/10").then((function(e){c(e.data),e.data.forEach((function(e){d.a.get("http://localhost:5000/api/user/"+e.user).then((function(a){var t=a.data,n={avatar:t.avatar,follows:t.follows,username:t.username};e.user=n}))}))}))}),[]),r.a.createElement(r.a.Fragment,null,l.map((function(e){return r.a.createElement(h,{username:e.user,text:e.content,likes:0,avatar:e.avatar,timestamp:e.timestamp})})))},b=t(19),v=t(9),y=function(e){return r.a.createElement("div",null,r.a.createElement(u.a,{style:{paddingTop:"100px"}},r.a.createElement(b.a,null,r.a.createElement(v.a,{xs:4},e.user&&r.a.createElement(p.a,null,r.a.createElement("a",{href:"/profile/"+e.user.username},r.a.createElement("img",{src:e.user.avatar,alt:"Avatar"})),r.a.createElement("div",{className:"card_text"},r.a.createElement("a",{href:"/profile/"+e.user.username},r.a.createElement("h2",null,"@",e.user.username)),r.a.createElement("p",null,r.a.createElement("i",null,"Some information here coming soon")),r.a.createElement("p",null,"Followers: ",e.user.follows.length),r.a.createElement("p",null,"Following: ",e.user.follows.length)))),r.a.createElement(v.a,{xs:6},e.user&&r.a.createElement(j,{user:e.user}),r.a.createElement(g,null)),r.a.createElement(v.a,null))))},w=t(6),O=t(23),S=function(e){var a=Object(n.useState)(""),t=Object(o.a)(a,2),l=t[0],c=t[1],m=Object(n.useState)(""),i=Object(o.a)(m,2),E=i[0],h=i[1],f=Object(s.g)(),g=e.user,y=e.setUser;return g?r.a.createElement(s.a,{to:"/home"}):r.a.createElement(u.a,null,r.a.createElement(b.a,null,r.a.createElement(v.a,null),r.a.createElement(v.a,{xs:6},r.a.createElement(p.a,null,r.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),d.a.post("http://localhost:5000/api/login",{username:l,password:E}).then((function(e){y(e.data),localStorage.setItem("user",JSON.stringify(e.data)),f.push("/home")}))}},r.a.createElement(w.a.Group,{controlId:"formBasicEmail"},r.a.createElement(w.a.Label,null,"Username"),r.a.createElement(w.a.Control,{type:"text",placeholder:"Enter username",onChange:function(e){return c(e.target.value)}})),r.a.createElement(w.a.Group,{controlId:"formBasicPassword"},r.a.createElement(w.a.Label,null,"Password"),r.a.createElement(w.a.Control,{type:"password",placeholder:"Password",value:E,onChange:function(e){return h(e.target.value)}})),r.a.createElement(O.a,{variant:"primary",type:"submit"},"Submit")))),r.a.createElement(v.a,null)))},j=(t(79),function(e){var a=Object(n.useState)(""),t=Object(o.a)(a,2),l=t[0],c=t[1],m=Object(n.useState)(!1),s=Object(o.a)(m,2),i=s[0],E=s[1],h=function(){E(!i)};return e.user?i?r.a.createElement(u.a,null,r.a.createElement(b.a,{className:"d-flex justify-content-center"},r.a.createElement(v.a,{className:"align-items-center"},r.a.createElement(p.a,null,r.a.createElement(p.a.Body,null,r.a.createElement(O.a,{variant:"secondary",size:"sm",style:{float:"right",marginTop:"-5px"},onClick:h},"Hide"),r.a.createElement(w.a,{onSubmit:function(a){a.preventDefault(),l.length>0&&d.a.post("http://localhost:5000/api/posts/create",{user:e.user.username,content:l,likes:[]}).then((function(e){alert("Content posted!"),c("")}))}},r.a.createElement(w.a.Group,{controlId:"formUsername"},r.a.createElement(w.a.Label,null,"What do you want to say?"),r.a.createElement(w.a.Control,{name:"content",type:"text",placeholder:"Content",onChange:function(e){e.preventDefault();var a=e.target,t=a.name,n=a.value;switch(t){case"content":c(n)}}})),r.a.createElement(O.a,{variant:"primary",type:"submit",className:"btn-block"},"Submit"))))))):r.a.createElement(u.a,null,r.a.createElement(p.a,{style:{paddingTop:"10px"}},r.a.createElement(p.a.Body,null,r.a.createElement(O.a,{variant:"primary",type:"submit",className:"btn-block",onClick:h},"Create a post")))):r.a.createElement("p",null,"Please log in to create a post")}),C=t(13),x=(t(80),function(e){var a=Object(s.g)();return r.a.createElement(C.a,{variant:"pills",activeKey:"1",id:"nav"},r.a.createElement("a",{href:"/home",className:"logo"},r.a.createElement("span",{className:"logo_m"},"micro"),r.a.createElement("span",{className:"logo_b"},"blog")),r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{eventKey:"1",href:"/home"},"Home")),r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{href:"/about"},"About")),e.username?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{eventKey:"3",href:"/profile"},"@",e.username)),r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{eventKey:"3",href:"/home",onClick:function(){localStorage.removeItem("user"),a.push("/home")}},"Logout"))):r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{eventKey:"3",href:"/login"},"Login")))}),k=function(e){var a=Object(n.useState)(""),t=Object(o.a)(a,2),l=t[0],c=t[1],m=Object(n.useState)(""),i=Object(o.a)(m,2),E=i[0],h=i[1],f=Object(n.useState)(""),g=Object(o.a)(f,2),y=g[0],S=g[1],j=Object(s.g)(),C=e.user,x=e.setUser;return C?r.a.createElement(s.a,{to:"/home"}):r.a.createElement(u.a,null,r.a.createElement(b.a,null,r.a.createElement(v.a,null),r.a.createElement(v.a,{xs:6},r.a.createElement(p.a,null,r.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),d.a.post("http://localhost:5000/api/register",{username:l,password:E,password2:y}).then((function(e){d.a.post("http://localhost:5000/api/login",{username:l,password:E}).then((function(e){x(e.data),localStorage.setItem("user",JSON.stringify(e.data)),j.push("/home")})).catch((function(e){return console.log(e)}))}))}},r.a.createElement(w.a.Group,{controlId:"formBasicEmail"},r.a.createElement(w.a.Label,null,"Username"),r.a.createElement(w.a.Control,{type:"text",placeholder:"Enter username",onChange:function(e){return c(e.target.value)}})),r.a.createElement(w.a.Group,{controlId:"formBasicPassword"},r.a.createElement(w.a.Label,null,"Password"),r.a.createElement(w.a.Control,{type:"password",placeholder:"Password",value:E,onChange:function(e){return h(e.target.value)}})),r.a.createElement(w.a.Group,{controlId:"formBasicPassword"},r.a.createElement(w.a.Label,null,"Confirm password"),r.a.createElement(w.a.Control,{type:"password",placeholder:"Confirm password",value:y,onChange:function(e){return S(e.target.value)}})),r.a.createElement(O.a,{variant:"primary",type:"submit"},"Submit")))),r.a.createElement(v.a,null)))},I=(t(81),function(){var e=Object(n.useState)(null),a=Object(o.a)(e,2),t=a[0],l=a[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));e&&l(e)}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(x,{username:t?t.username:""}),r.a.createElement(m.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/home"},r.a.createElement(y,{user:t})),r.a.createElement(s.b,{path:"/about"},r.a.createElement(u.a,{style:{paddingTop:"100px"}},r.a.createElement(g,null))),r.a.createElement(s.b,{path:"/profile"},r.a.createElement(u.a,{style:{paddingTop:"100px"}},r.a.createElement(g,null))),r.a.createElement(s.b,{path:"/login"},r.a.createElement(u.a,{style:{paddingTop:"100px"}},r.a.createElement(S,{user:t,setUser:l}))),r.a.createElement(s.b,{path:"/register"},r.a.createElement(u.a,{style:{paddingTop:"100px"}},r.a.createElement(k,{user:t,setUser:l}))),r.a.createElement(s.b,{path:"/"},r.a.createElement(s.a,{to:"/home"})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.373be234.chunk.js.map